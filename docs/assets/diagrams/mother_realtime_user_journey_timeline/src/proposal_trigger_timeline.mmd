sequenceDiagram
    autonumber
    participant U as User
    participant M as Mother FSM
    participant MRT as Mother Intent RT

    U->>M: t=0 semantic interaction ends

    alt Standard idle path
        M->>M: wait 520ms watch idle
        M->>M: wait 900ms intent idle
        M->>M: wait upload settle gate up to 520ms
        M->>MRT: dispatch /intent_rt_mother
    else Multi-upload boost window active
        M->>M: wait 240ms watch idle
        M->>M: wait 520ms intent idle
        M->>MRT: dispatch /intent_rt_mother
    end

    MRT-->>M: partial stream
    MRT-->>M: final intent icons

    alt User keeps editing while proposal exists
        U->>M: move/resize/rotate/skew
        M->>M: live refresh debounce 170ms
        M->>M: enforce min interval 550ms
        M->>MRT: redispatch /intent_rt_mother
    else No edits
        M-->>U: keep current proposal
    end
